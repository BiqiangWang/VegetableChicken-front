{"remainingRequest":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\babel-loader\\lib\\index.js!E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\src\\components\\Login.vue","mtime":1609689713484},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607155416346},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\babel-loader\\lib\\index.js","mtime":1607155439225},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607155416346},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\vue-loader\\lib\\index.js","mtime":1607155434827}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      input_account: '',\n      input_password: '',\n      isLoginSuccessfully: undefined\n    };\n  },\n  methods: {\n    login: function login() {\n      this.ajax = new XMLHttpRequest();\n      this.ajax.open(\"GET\", \"http://localhost:8712/user/login?username=\" + this.input_account + \"&userpwd=\" + this.input_password, true); // this.ajax.setRequestHeader('Authorization', 'Bearer ');\n\n      this.ajax.onreadystatechange = this.loginSuccessfully;\n      this.ajax.send();\n    },\n    loginSuccessfully: function loginSuccessfully() {\n      if (this.ajax.readyState == 4 && this.ajax.status == 200) {\n        if (JSON.parse(this.ajax.responseText) == 0) {\n          this.isLoginSuccessfully = true;\n          console.log(this.isLoginSuccessfully);\n          this.$emit(\"changestate\");\n          this.$emit(\"getuserid\", 1);\n        } else if (JSON.parse(this.ajax.responseText) == -1) {\n          this.isLoginSuccessfully = false;\n          console.log(this.isLoginSuccessfully);\n        }\n      }\n    }\n  },\n  watch: {\n    isLoginSuccessfully: function isLoginSuccessfully(newIsLoginSuccessfully, oldIsLoginSuccessfully) {\n      var router = this.$router;\n      console.log('new' + newIsLoginSuccessfully + 'old' + oldIsLoginSuccessfully);\n\n      if (newIsLoginSuccessfully === false) {\n        setTimeout(function () {\n          this.isLoginSuccessfully = undefined;\n          console.log(this.isLoginSuccessfully);\n        }, 10);\n      } else if (newIsLoginSuccessfully === true) {\n        console.log('run in son!');\n        console.log('origin ' + this.input_account + 'psw: ' + this.input_password);\n        setTimeout(function () {\n          router.replace('/SearchExpress');\n        }, 1500);\n      }\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,EADA;AAEA,MAAA,cAAA,EAAA,EAFA;AAGA,MAAA,mBAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,WAAA,IAAA,GAAA,IAAA,cAAA,EAAA;AACA,WAAA,IAAA,CAAA,IAAA,CAAA,KAAA,EAAA,+CAAA,KAAA,aAAA,GAAA,WAAA,GAAA,KAAA,cAAA,EACA,IADA,EAFA,CAIA;;AACA,WAAA,IAAA,CAAA,kBAAA,GAAA,KAAA,iBAAA;AACA,WAAA,IAAA,CAAA,IAAA;AACA,KARA;AASA,IAAA,iBATA,+BASA;AACA,UAAA,KAAA,IAAA,CAAA,UAAA,IAAA,CAAA,IAAA,KAAA,IAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,YAAA,KAAA,CAAA,EAAA;AACA,eAAA,mBAAA,GAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,mBAAA;AACA,eAAA,KAAA,CAAA,aAAA;AACA,eAAA,KAAA,CAAA,WAAA,EAAA,CAAA;AACA,SALA,MAKA,IAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,YAAA,KAAA,CAAA,CAAA,EAAA;AACA,eAAA,mBAAA,GAAA,KAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,mBAAA;AACA;AACA;AACA;AArBA,GARA;AA+BA,EAAA,KAAA,EAAA;AACA,IAAA,mBAAA,EAAA,6BAAA,sBAAA,EAAA,sBAAA,EAAA;AACA,UAAA,MAAA,GAAA,KAAA,OAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,sBAAA,GAAA,KAAA,GAAA,sBAAA;;AACA,UAAA,sBAAA,KAAA,KAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,eAAA,mBAAA,GAAA,SAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,mBAAA;AACA,SAHA,EAGA,EAHA,CAAA;AAIA,OALA,MAKA,IAAA,sBAAA,KAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,YAAA,KAAA,aAAA,GAAA,OAAA,GAAA,KAAA,cAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,gBAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA;AACA;AAhBA;AA/BA,CAAA","sourcesContent":["<template>\r\n\t<div id=\"Login_page_container\">\r\n\t\t<img id=\"Login_logo\" src=\"../assets/logo_blue.png\" />\r\n\t\t<el-alert v-if=\"isLoginSuccessfully===false\" title=\"密码错误!\" type=\"error\" show-icon></el-alert>\r\n\t\t<el-alert v-else-if=\"isLoginSuccessfully===true\" title=\"登陆成功，正在跳转!\" type=\"success\" show-icon></el-alert>\r\n\t\t<div id=\"Login_login_container\">\r\n\t\t\t<div id=\"Login_tilte\">登录</div>\r\n\t\t\t<el-row id=\"Login_account_container\">\r\n\t\t\t\t<el-col :span=\"4\" :offset=\"5\" id=\"Login_account_title\">账号</el-col>\r\n\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t<el-input id=\"Login_account_input\" v-model=\"input_account\"></el-input>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-row id=\"Login_password_container\">\r\n\t\t\t\t<el-col :span=\"4\" :offset=\"5\" id=\"Login_password_title\">密码</el-col>\r\n\t\t\t\t<el-col :span=\"8\">\r\n\t\t\t\t\t<el-input id=\"Login_password_input\" v-model=\"input_password\" show-password></el-input>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-row id=\"Login_btn_container\">\r\n\t\t\t\t<el-button type=\"primary\" id=\"Login_login_btn\" @click=\"login\">登录</el-button>\r\n\t\t\t\t<el-button type=\"primary\" id=\"Login_register_btn\">\r\n\t\t\t\t\t<router-link tag=\"div\" to=\"/Register\">去注册</router-link>\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-row>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tinput_account: '',\r\n\t\t\t\tinput_password: '',\r\n\t\t\t\tisLoginSuccessfully: undefined,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlogin() {\r\n\t\t\t\tthis.ajax = new XMLHttpRequest();\r\n\t\t\t\tthis.ajax.open(\"GET\", \"http://localhost:8712/user/login?username=\" + this.input_account + \"&userpwd=\" + this.input_password,\r\n\t\t\t\t\ttrue);\r\n\t\t\t\t// this.ajax.setRequestHeader('Authorization', 'Bearer ');\r\n\t\t\t\tthis.ajax.onreadystatechange = this.loginSuccessfully;\r\n\t\t\t\tthis.ajax.send();\r\n\t\t\t},\r\n\t\t\tloginSuccessfully() {\r\n\t\t\t\tif (this.ajax.readyState == 4 && this.ajax.status == 200) {\r\n\t\t\t\t\tif (JSON.parse(this.ajax.responseText) == 0) {\r\n\t\t\t\t\t\tthis.isLoginSuccessfully = true;\r\n\t\t\t\t\t\tconsole.log(this.isLoginSuccessfully);\r\n\t\t\t\t\t\tthis.$emit(\"changestate\")\r\n\t\t\t\t\t\tthis.$emit(\"getuserid\",1)\r\n\t\t\t\t\t} else if (JSON.parse(this.ajax.responseText) == -1) {\r\n\t\t\t\t\t\tthis.isLoginSuccessfully = false;\r\n\t\t\t\t\t\tconsole.log(this.isLoginSuccessfully);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tisLoginSuccessfully: function(newIsLoginSuccessfully, oldIsLoginSuccessfully) {\r\n\t\t\t\tvar router = this.$router\r\n\t\t\t\tconsole.log('new' + newIsLoginSuccessfully + 'old' + oldIsLoginSuccessfully);\r\n\t\t\t\tif (newIsLoginSuccessfully === false) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tthis.isLoginSuccessfully = undefined\r\n\t\t\t\t\t\tconsole.log(this.isLoginSuccessfully)\r\n\t\t\t\t\t}, 10);\r\n\t\t\t\t} else if (newIsLoginSuccessfully === true) {\r\n\t\t\t\t\tconsole.log('run in son!')\r\n\t\t\t\t\tconsole.log('origin ' + this.input_account + 'psw: ' + this.input_password)\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\trouter.replace('/SearchExpress')\r\n\t\t\t\t\t}, 1500)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#Login_page_container {\r\n\t\twidth: 100%;\r\n\t\theight: 789px;\r\n\t\tbackground-color: #027AFF;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t#Login_login_container {\r\n\t\tmargin: auto;\r\n\t\tposition: relative;\r\n\t\twidth: 35%;\r\n\t\theight: 350px;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 20px;\r\n\t}\r\n\r\n\t#Login_tilte {\r\n\t\tposition: relative;\r\n\t\ttop: 30px;\r\n\t\tfont-family: \"microsoft yahei\";\r\n\t\tfont-size: 44px;\r\n\t}\r\n\r\n\t#Login_account_container {\r\n\t\tposition: relative;\r\n\t\ttop: 50px;\r\n\t}\r\n\r\n\t#Login_password_container {\r\n\t\tposition: relative;\r\n\t\ttop: 60px;\r\n\t}\r\n\r\n\t#Login_btn_container {\r\n\t\tposition: relative;\r\n\t\ttop: 90px;\r\n\t}\r\n\r\n\t#Login_account_title {\r\n\t\tfont-family: \"microsoft yahei\";\r\n\t\tfont-size: 20px;\r\n\t}\r\n\r\n\t#Login_password_title {\r\n\t\tfont-family: \"microsoft yahei\";\r\n\t\tfont-size: 20px;\r\n\t}\r\n\r\n\t#Login .el-row {\r\n\t\tmargin-bottom: 20px;\r\n\r\n\t\t&:last-child {\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\r\n\t\t.el-col {\r\n\t\t\tborder-radius: 4px;\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t.el-alert {\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -110px;\r\n\t\twidth: 220px;\r\n\t\tz-index: 99;\r\n\t}\r\n\t\r\n</style>\r\n"],"sourceRoot":"src/components"}]}