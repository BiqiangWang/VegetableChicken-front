{"remainingRequest":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\src\\components\\AccountInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\src\\components\\AccountInfo.vue","mtime":1609697490791},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607155416346},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\babel-loader\\lib\\index.js","mtime":1607155439225},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607155416346},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\vue-loader\\lib\\index.js","mtime":1607155434827}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"AccountInfo\",\n  data: function () {\n    return {\n      id: 1,\n      times:0,\n      account: \"haha\",\n      psw: \"\",\n      isEditable: false,\n      input: \"\",\n      input2: \"\",\n      input3: \"\",\n      isPSWChange: false,\n      isChangePSWAvailable: false,\n      changeBasicInfo: false,\r\n\t  istaobao:false,\n      telephone: \"asd\",\n      status: 0,\n      success: false,\n      taobao:\"\",\n    };\n  },\n  methods: {\r\n\t  changestate(){\r\n\t\t  console.log(11111);\r\n\t\t  this.$emit(\"changetaobao\");\r\n\t  },\r\n\t  getid(){\r\n\t\t  console.log(\"hello\"+this.$parent.userid);\r\n\t\t  // this.id=this.$parent.userid;\r\n\t\t  console.log(this.id)\r\n\t  },\n    editName: function () {\n      this.isEditable = true;\n    },\n    changeAccount: function () {\n      this.account = this.input;\n      console.log(\"after modify\" + this.account);\n      this.changeInfo(\"name\");\n    },\n    editPassword: function () {\n      this.isPSWChange = true;\n    },\n    validateOriginPSW: function () {\n      if (this.psw == this.input2) {\n        this.isPSWChange = false;\n        this.isChangePSWAvailable = true;\n      } else {\n        this.$alert(\"请输入正确的原密码！\", \"密码输入错误\", {\n          confirmButtonText: \"确定\",\n          callback: (action) => {\n            this.isPSWChange = false;\n          },\n        });\n      }\n    },\n    changePSW: function () {\n      this.changeInfo(\"password\");\n      this.isChangePSWAvailable = false;\n    },\n\n    summitInfo(callback){\n      if(callback==false && this.times!==0){\n        this.changeInfo(\"info\");\n      }\n      this.times++;\n    },\n\n    getInfo() {\n      var url = \"http://localhost:8701/user/viewinfo\";\n      this.$http\n        .get(\n          url,\n          {\n            params: {\n              userid: this.id,\n            },\n          },\n          {\n            emulateJSON: true,\n          }\n        )\n        .then((response) => {\n          this.account = response.data.data.items[0].username;\n          this.psw = response.data.data.items[0].userpwd;\n          this.telephone = response.data.data.items[0].userphone;\n          this.status = response.data.data.items[0].userstatus;\n        });\n    },\n\n    changeInfo(type) {\n      var url = \"http://localhost:8701/user/changeinfo\";\n      this.$http\n        .get(\n          url,\n          {\n            params: {\n              userid: this.id,\n              username: this.account,\n              userphone: this.telephone,\n              userpwd: this.psw,\n            },\n          },\n          {\n            emulateJSON: true,\n          }\n        )\n        .then((response) => {\n          if (type == \"name\") {\n            if (response.data == 1) {\n              this.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            } else {\n              this.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            }\n            this.isEditable=false;\n          }\n          if(type==\"info\"){\n            if (response.data == 1) {\n              this.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            } else {\n              this.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            }\n          }\n          if (type == \"password\") {\n            var temp = this.psw;\n            this.psw = this.input3;\n            if (response.data == 1) {\n              this.$alert(\"修改密码成功！\", \"修改成功\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            } else {\n              this.psw = temp;\n              this.$alert(\"修改密码失败！\", \"修改失败\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            }\n            this.input3=\"\";\n          }\n        });\n    },\n  },\n\n  mounted() {\r\n\t  this.getid();\n    this.getInfo();\n  },\n};\n",{"version":3,"sources":["AccountInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"AccountInfo.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <el-avatar\n      src=\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"\n      :size=\"150\"\n      :class=\"['avator']\"\n    >\n    </el-avatar>\n    <p style=\"position: absolute; left: 320px; top: 40px\" :class=\"['word']\">\n      用户名：\n    </p>\n    <p\n      v-text=\"account\"\n      v-if=\"isEditable == false\"\n      style=\"position: absolute; left: 400px; top: 35px; font-size: 25px\"\n    ></p>\n    <el-input\n      size=\"mini\"\n      id=\"modifyAccount\"\n      v-model=\"input\"\n      placeholder=\"请输入新用户名\"\n      v-if=\"isEditable == true\"\n      style=\"width: 200px; position: absolute; left: 400px; top: 60px\"\n    >\n    </el-input>\n    <el-button\n      size=\"mini\"\n      type=\"success\"\n      style=\"position: absolute; left: 620px; top: 60px\"\n      v-on:click=\"changeAccount()\"\n      v-if=\"isEditable == true\"\n      >确认</el-button\n    >\n    <el-button\n      type=\"primary\"\n      icon=\"el-icon-edit\"\n      size=\"small\"\n      circle\n      v-show=\"isEditable == false\"\n      v-on:click=\"editName()\"\n      style=\"position: absolute; left: 470px; top: 59px\"\n    ></el-button>\n    <p style=\"position: absolute; left: 320px; top: 80px\" :class=\"['word']\">\n      密码：\n    </p>\n    <el-button\n      type=\"warning\"\n      v-show=\"isPSWChange == false\"\n      style=\"position: absolute; left: 380px; top: 100px\"\n      size=\"mini\"\n      v-on:click=\"editPassword()\"\n      >点击修改密码</el-button\n    >\n    <el-input\n      type=\"password\"\n      size=\"mini\"\n      v-model=\"input2\"\n      placeholder=\"请输入原密码\"\n      v-if=\"isPSWChange == true\"\n      style=\"width: 150px; position: absolute; left: 380px; top: 100px\"\n    ></el-input>\n    <el-button\n      size=\"mini\"\n      type=\"success\"\n      style=\"position: absolute; left: 500px; top: 100px\"\n      v-on:click=\"validateOriginPSW()\"\n      v-if=\"isPSWChange == true\"\n      >确认</el-button\n    >\n    <el-input\n      type=\"password\"\n      size=\"mini\"\n      v-model=\"input3\"\n      placeholder=\"请输入新密码\"\n      v-if=\"isChangePSWAvailable == true\"\n      style=\"width: 150px; position: absolute; left: 380px; top: 100px\"\n    ></el-input>\n    <el-button\n      size=\"mini\"\n      type=\"success\"\n      style=\"position: absolute; left: 500px; top: 100px\"\n      v-on:click=\"changePSW()\"\n      v-if=\"isChangePSWAvailable == true\"\n      >确认</el-button\n    >\n    <p style=\"position: absolute; left: 320px; top: 120px\" :class=\"['word']\">\n      编辑个人信息\n    </p>\n    <el-switch\n      v-model=\"changeBasicInfo\"\n      @change=\"summitInfo\"\n      active-color=\"#13ce66\"\n      inactive-color=\"#ff4949\"\n      style=\"position: absolute; left: 450px; top: 143px\"\n    ></el-switch>\n    <p style=\"position: absolute; left: 320px; top: 160px\" :class=\"['word']\">\n      手机号：\n    </p>\n    <el-input\n      size=\"mini\"\n      v-model=\"telephone\"\n      style=\"width: 150px; position: absolute; left: 400px; top: 180px\"\n      :disabled=\"!changeBasicInfo\"\n    ></el-input>\n    <p style=\"position: absolute; left: 320px; top: 200px\" :class=\"['word']\">\n      绑定淘宝：\n    </p>\r\n\t<el-switch\r\n\t  v-model=\"istaobao\"\r\n\t  @change=\"changestate\"\r\n\t  active-color=\"#13ce66\"\r\n\t  inactive-color=\"#ff4949\"\r\n\t  style=\"position: absolute; left: 420px; top: 223px\"\r\n\t></el-switch>\n    <!-- <el-input\n      size=\"mini\"\n      v-model=\"taobao\"\n      style=\"width: 150px; position: absolute; left: 400px; top: 220px\"\n      :disabled=\"!changeBasicInfo\"\n    ></el-input> -->\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"AccountInfo\",\n  data: function () {\n    return {\n      id: 1,\n      times:0,\n      account: \"haha\",\n      psw: \"\",\n      isEditable: false,\n      input: \"\",\n      input2: \"\",\n      input3: \"\",\n      isPSWChange: false,\n      isChangePSWAvailable: false,\n      changeBasicInfo: false,\r\n\t  istaobao:false,\n      telephone: \"asd\",\n      status: 0,\n      success: false,\n      taobao:\"\",\n    };\n  },\n  methods: {\r\n\t  changestate(){\r\n\t\t  console.log(11111);\r\n\t\t  this.$emit(\"changetaobao\");\r\n\t  },\r\n\t  getid(){\r\n\t\t  console.log(\"hello\"+this.$parent.userid);\r\n\t\t  // this.id=this.$parent.userid;\r\n\t\t  console.log(this.id)\r\n\t  },\n    editName: function () {\n      this.isEditable = true;\n    },\n    changeAccount: function () {\n      this.account = this.input;\n      console.log(\"after modify\" + this.account);\n      this.changeInfo(\"name\");\n    },\n    editPassword: function () {\n      this.isPSWChange = true;\n    },\n    validateOriginPSW: function () {\n      if (this.psw == this.input2) {\n        this.isPSWChange = false;\n        this.isChangePSWAvailable = true;\n      } else {\n        this.$alert(\"请输入正确的原密码！\", \"密码输入错误\", {\n          confirmButtonText: \"确定\",\n          callback: (action) => {\n            this.isPSWChange = false;\n          },\n        });\n      }\n    },\n    changePSW: function () {\n      this.changeInfo(\"password\");\n      this.isChangePSWAvailable = false;\n    },\n\n    summitInfo(callback){\n      if(callback==false && this.times!==0){\n        this.changeInfo(\"info\");\n      }\n      this.times++;\n    },\n\n    getInfo() {\n      var url = \"http://localhost:8701/user/viewinfo\";\n      this.$http\n        .get(\n          url,\n          {\n            params: {\n              userid: this.id,\n            },\n          },\n          {\n            emulateJSON: true,\n          }\n        )\n        .then((response) => {\n          this.account = response.data.data.items[0].username;\n          this.psw = response.data.data.items[0].userpwd;\n          this.telephone = response.data.data.items[0].userphone;\n          this.status = response.data.data.items[0].userstatus;\n        });\n    },\n\n    changeInfo(type) {\n      var url = \"http://localhost:8701/user/changeinfo\";\n      this.$http\n        .get(\n          url,\n          {\n            params: {\n              userid: this.id,\n              username: this.account,\n              userphone: this.telephone,\n              userpwd: this.psw,\n            },\n          },\n          {\n            emulateJSON: true,\n          }\n        )\n        .then((response) => {\n          if (type == \"name\") {\n            if (response.data == 1) {\n              this.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            } else {\n              this.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            }\n            this.isEditable=false;\n          }\n          if(type==\"info\"){\n            if (response.data == 1) {\n              this.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            } else {\n              this.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            }\n          }\n          if (type == \"password\") {\n            var temp = this.psw;\n            this.psw = this.input3;\n            if (response.data == 1) {\n              this.$alert(\"修改密码成功！\", \"修改成功\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            } else {\n              this.psw = temp;\n              this.$alert(\"修改密码失败！\", \"修改失败\", {\n                confirmButtonText: \"确定\",\n                callback: (action) => {},\n              });\n            }\n            this.input3=\"\";\n          }\n        });\n    },\n  },\n\n  mounted() {\r\n\t  this.getid();\n    this.getInfo();\n  },\n};\n</script>\n"]}]}