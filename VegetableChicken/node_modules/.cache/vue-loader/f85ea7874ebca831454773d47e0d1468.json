{"remainingRequest":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\src\\components\\AccountInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\src\\components\\AccountInfo.vue","mtime":1609664803099},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607155416346},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\babel-loader\\lib\\index.js","mtime":1607155439225},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607155416346},{"path":"E:\\大学学习\\大三上\\web与SOA\\web服务前端\\VegetableChicken\\node_modules\\vue-loader\\lib\\index.js","mtime":1607155434827}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: \"AccountInfo\",\n\tdata: function() {\n\t\treturn {\n\t\t\tid: 1,\n\t\t\ttimes: 0,\n\t\t\taccount: \"haha\",\n\t\t\tpsw: \"\",\n\t\t\tisEditable: false,\n\t\t\tinput: \"\",\n\t\t\tinput2: \"\",\n\t\t\tinput3: \"\",\n\t\t\tisPSWChange: false,\n\t\t\tisChangePSWAvailable: false,\n\t\t\tchangeBasicInfo: false,\n\t\t\ttelephone: \"asd\",\n\t\t\tstatus: 0,\n\t\t\tsuccess: false,\n\t\t};\n\t},\n\tmethods: {\n\t\teditName: function() {\n\t\t\tthis.isEditable = true;\n\t\t},\n\t\tchangeAccount: function() {\n\t\t\tthis.account = this.input;\n\t\t\tconsole.log(\"after modify\" + this.account);\n\t\t\tthis.changeInfo(\"name\");\n\t\t},\n\t\teditPassword: function() {\n\t\t\tthis.isPSWChange = true;\n\t\t},\n\t\tvalidateOriginPSW: function() {\n\t\t\tif (this.psw == this.input2) {\n\t\t\t\tthis.isPSWChange = false;\n\t\t\t\tthis.isChangePSWAvailable = true;\n\t\t\t} else {\n\t\t\t\tthis.$alert(\"请输入正确的原密码！\", \"密码输入错误\", {\n\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\tcallback: (action) => {\n\t\t\t\t\t\tthis.isPSWChange = false;\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tchangePSW: function() {\n\t\t\tthis.changeInfo(\"password\");\n\t\t\tthis.isChangePSWAvailable = false;\n\t\t},\n\n\t\tsummitInfo(callback) {\n\t\t\tif (callback == false && this.times !== 0) {\n\t\t\t\tthis.changeInfo(\"info\");\n\t\t\t}\n\t\t\tthis.times++;\n\t\t},\n\n\t\tgetInfo() {\n\t\t\tvar url = \"http://localhost:8701/user/viewinfo\";\n\t\t\tthis.$http\n\t\t\t\t.get(\n\t\t\t\t\turl, {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tuserid: this.id,\n\t\t\t\t\t\t},\n\t\t\t\t\t}, {\n\t\t\t\t\t\temulateJSON: true,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.account = response.data.data.items[0].username;\n\t\t\t\t\tthis.psw = response.data.data.items[0].userpwd;\n\t\t\t\t\tthis.telephone = response.data.data.items[0].userphone;\n\t\t\t\t\tthis.status = response.data.data.items[0].userstatus;\n\t\t\t\t});\n\t\t},\n\n\t\tchangeInfo(type) {\n\t\t\tvar url = \"http://localhost:8701/user/changeinfo\";\n\t\t\tthis.$http\n\t\t\t\t.get(\n\t\t\t\t\turl, {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tuserid: this.id,\n\t\t\t\t\t\t\tusername: this.account,\n\t\t\t\t\t\t\tuserphone: this.telephone,\n\t\t\t\t\t\t\tuserpwd: this.psw,\n\t\t\t\t\t\t},\n\t\t\t\t\t}, {\n\t\t\t\t\t\temulateJSON: true,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (type == \"name\") {\n\t\t\t\t\t\tif (response.data == 1) {\n\t\t\t\t\t\t\tthis.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\t\t\t\tcallback: (action) => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\t\t\t\tcallback: (action) => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.isEditable=false;\n\t\t\t\t\t}\n\t\t\t\t\tif (type == \"info\") {\n\t\t\t\t\t\tif (response.data == 1) {\n\t\t\t\t\t\t\tthis.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\t\t\t\tcallback: (action) => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\t\t\t\tcallback: (action) => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (type == \"password\") {\n\t\t\t\t\t\tvar temp = this.psw;\n\t\t\t\t\t\tthis.psw = this.input3;\n\t\t\t\t\t\tif (response.data == 1) {\n\t\t\t\t\t\t\tthis.$alert(\"修改密码成功！\", \"修改成功\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\t\t\t\tcallback: (action) => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.psw = temp;\n\t\t\t\t\t\t\tthis.$alert(\"修改密码失败！\", \"修改失败\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\t\t\t\tcallback: (action) => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.input3 = \"\";\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.getInfo();\n\t},\n};\n",{"version":3,"sources":["AccountInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"AccountInfo.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-avatar src=\"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\" :size=\"150\" :class=\"['avator']\">\r\n\t\t</el-avatar>\r\n\t\t<p style=\"position: absolute; left: 320px; top: 40px\" :class=\"['word']\">\r\n\t\t\t用户名：\r\n\t\t</p>\r\n\t\t<p v-text=\"account\" v-if=\"isEditable == false\" style=\"position: absolute; left: 400px; top: 35px; font-size: 25px\"></p>\r\n\t\t<el-input size=\"mini\" id=\"modifyAccount\" v-model=\"input\" placeholder=\"请输入新用户名\" v-if=\"isEditable == true\" style=\"width: 200px; position: absolute; left: 400px; top: 60px\">\r\n\t\t</el-input>\r\n\t\t<el-button size=\"mini\" type=\"success\" style=\"position: absolute; left: 620px; top: 60px\" v-on:click=\"changeAccount()\"\r\n\t\t v-if=\"isEditable == true\">确认</el-button>\r\n\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" size=\"small\" circle v-show=\"isEditable == false\" v-on:click=\"editName()\"\r\n\t\t style=\"position: absolute; left: 470px; top: 59px\"></el-button>\r\n\t\t<p style=\"position: absolute; left: 320px; top: 80px\" :class=\"['word']\">\r\n\t\t\t密码：\r\n\t\t</p>\r\n\t\t<el-button type=\"warning\" v-show=\"isPSWChange == false\" style=\"position: absolute; left: 380px; top: 100px\" size=\"mini\"\r\n\t\t v-on:click=\"editPassword()\">点击修改密码</el-button>\r\n\t\t<el-input type=\"password\" size=\"mini\" v-model=\"input2\" placeholder=\"请输入原密码\" v-if=\"isPSWChange == true\" style=\"width: 150px; position: absolute; left: 380px; top: 100px\"></el-input>\r\n\t\t<el-button size=\"mini\" type=\"success\" style=\"position: absolute; left: 500px; top: 100px\" v-on:click=\"validateOriginPSW()\"\r\n\t\t v-if=\"isPSWChange == true\">确认</el-button>\r\n\t\t<el-input type=\"password\" size=\"mini\" v-model=\"input3\" placeholder=\"请输入新密码\" v-if=\"isChangePSWAvailable == true\" style=\"width: 150px; position: absolute; left: 380px; top: 100px\"></el-input>\r\n\t\t<el-button size=\"mini\" type=\"success\" style=\"position: absolute; left: 500px; top: 100px\" v-on:click=\"changePSW()\"\r\n\t\t v-if=\"isChangePSWAvailable == true\">确认</el-button>\r\n\t\t<p style=\"position: absolute; left: 320px; top: 120px\" :class=\"['word']\">\r\n\t\t\t编辑个人信息\r\n\t\t</p>\r\n\t\t<el-switch v-model=\"changeBasicInfo\" @change=\"summitInfo\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" style=\"position: absolute; left: 450px; top: 143px\"></el-switch>\r\n\t\t<p style=\"position: absolute; left: 320px; top: 160px\" :class=\"['word']\">\r\n\t\t\t手机号：\r\n\t\t</p>\r\n\t\t<el-input size=\"mini\" v-model=\"telephone\" style=\"width: 150px; position: absolute; left: 400px; top: 180px\" :disabled=\"!changeBasicInfo\"></el-input>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"AccountInfo\",\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tid: 1,\r\n\t\t\t\ttimes: 0,\r\n\t\t\t\taccount: \"haha\",\r\n\t\t\t\tpsw: \"\",\r\n\t\t\t\tisEditable: false,\r\n\t\t\t\tinput: \"\",\r\n\t\t\t\tinput2: \"\",\r\n\t\t\t\tinput3: \"\",\r\n\t\t\t\tisPSWChange: false,\r\n\t\t\t\tisChangePSWAvailable: false,\r\n\t\t\t\tchangeBasicInfo: false,\r\n\t\t\t\ttelephone: \"asd\",\r\n\t\t\t\tstatus: 0,\r\n\t\t\t\tsuccess: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\teditName: function() {\r\n\t\t\t\tthis.isEditable = true;\r\n\t\t\t},\r\n\t\t\tchangeAccount: function() {\r\n\t\t\t\tthis.account = this.input;\r\n\t\t\t\tconsole.log(\"after modify\" + this.account);\r\n\t\t\t\tthis.changeInfo(\"name\");\r\n\t\t\t},\r\n\t\t\teditPassword: function() {\r\n\t\t\t\tthis.isPSWChange = true;\r\n\t\t\t},\r\n\t\t\tvalidateOriginPSW: function() {\r\n\t\t\t\tif (this.psw == this.input2) {\r\n\t\t\t\t\tthis.isPSWChange = false;\r\n\t\t\t\t\tthis.isChangePSWAvailable = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$alert(\"请输入正确的原密码！\", \"密码输入错误\", {\r\n\t\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\t\tcallback: (action) => {\r\n\t\t\t\t\t\t\tthis.isPSWChange = false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchangePSW: function() {\r\n\t\t\t\tthis.changeInfo(\"password\");\r\n\t\t\t\tthis.isChangePSWAvailable = false;\r\n\t\t\t},\r\n\r\n\t\t\tsummitInfo(callback) {\r\n\t\t\t\tif (callback == false && this.times !== 0) {\r\n\t\t\t\t\tthis.changeInfo(\"info\");\r\n\t\t\t\t}\r\n\t\t\t\tthis.times++;\r\n\t\t\t},\r\n\r\n\t\t\tgetInfo() {\r\n\t\t\t\tvar url = \"http://localhost:8701/user/viewinfo\";\r\n\t\t\t\tthis.$http\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\turl, {\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\tuserid: this.id,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\temulateJSON: true,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tthis.account = response.data.data.items[0].username;\r\n\t\t\t\t\t\tthis.psw = response.data.data.items[0].userpwd;\r\n\t\t\t\t\t\tthis.telephone = response.data.data.items[0].userphone;\r\n\t\t\t\t\t\tthis.status = response.data.data.items[0].userstatus;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tchangeInfo(type) {\r\n\t\t\t\tvar url = \"http://localhost:8701/user/changeinfo\";\r\n\t\t\t\tthis.$http\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\turl, {\r\n\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\tuserid: this.id,\r\n\t\t\t\t\t\t\t\tusername: this.account,\r\n\t\t\t\t\t\t\t\tuserphone: this.telephone,\r\n\t\t\t\t\t\t\t\tuserpwd: this.psw,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\temulateJSON: true,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif (type == \"name\") {\r\n\t\t\t\t\t\t\tif (response.data == 1) {\r\n\t\t\t\t\t\t\t\tthis.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\t\t\t\t\tcallback: (action) => {},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\t\t\t\t\tcallback: (action) => {},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.isEditable=false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (type == \"info\") {\r\n\t\t\t\t\t\t\tif (response.data == 1) {\r\n\t\t\t\t\t\t\t\tthis.$alert(\"您已成功修改个人信息！\", \"修改成功\", {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\t\t\t\t\tcallback: (action) => {},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$alert(\"请检查修改的个人信息格式是否正确！\", \"修改失败\", {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\t\t\t\t\tcallback: (action) => {},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (type == \"password\") {\r\n\t\t\t\t\t\t\tvar temp = this.psw;\r\n\t\t\t\t\t\t\tthis.psw = this.input3;\r\n\t\t\t\t\t\t\tif (response.data == 1) {\r\n\t\t\t\t\t\t\t\tthis.$alert(\"修改密码成功！\", \"修改成功\", {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\t\t\t\t\tcallback: (action) => {},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.psw = temp;\r\n\t\t\t\t\t\t\t\tthis.$alert(\"修改密码失败！\", \"修改失败\", {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\t\t\t\t\t\tcallback: (action) => {},\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.input3 = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tthis.getInfo();\r\n\t\t},\r\n\t};\r\n</script>\n"]}]}